<phone:PhoneApplicationPage
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    xmlns:coding="clr-namespace:Coding4Fun.Toolkit.Controls;assembly=Coding4Fun.Toolkit.Controls"
    xmlns:Converters="clr-namespace:Coding4Fun.Toolkit.Controls.Converters;assembly=Coding4Fun.Toolkit.Controls"
    x:Class="PhotoNote.Pages.EditPage"
    SupportedOrientations="PortraitOrLandscape" Orientation="Landscape"
    mc:Ignorable="d">

    <!-- REMOVED BECAUSE IT CAUSES BAD INK PERFORMANCE!
    <toolkit:TransitionService.NavigationInTransition>
        <toolkit:NavigationInTransition>
            <toolkit:NavigationInTransition.Backward>
                <toolkit:SlideTransition Mode="SlideUpFadeIn"/>
            </toolkit:NavigationInTransition.Backward>
            <toolkit:NavigationInTransition.Forward>
                <toolkit:SlideTransition Mode="SlideUpFadeIn"/>
            </toolkit:NavigationInTransition.Forward>
        </toolkit:NavigationInTransition>
    </toolkit:TransitionService.NavigationInTransition>
    <toolkit:TransitionService.NavigationOutTransition>
        <toolkit:NavigationOutTransition>
            <toolkit:NavigationOutTransition.Backward>
                <toolkit:SlideTransition Mode="SlideDownFadeOut"/>
            </toolkit:NavigationOutTransition.Backward>
            <toolkit:NavigationOutTransition.Forward>
                <toolkit:SlideTransition Mode="SlideDownFadeOut"/>
            </toolkit:NavigationOutTransition.Forward>
        </toolkit:NavigationOutTransition>
    </toolkit:TransitionService.NavigationOutTransition>-->

    <phone:PhoneApplicationPage.Resources>
		<Converters:SolidColorBrushToColorConverter x:Key="BrushToBrush"/>
		<SolidColorBrush x:Key="DefaultDisabledBrush" Color="{Binding Converter={StaticResource BrushToBrush}, Source={StaticResource PhoneDisabledBrush}}"/>
		<Style x:Key="CustomColorPickerStyle" TargetType="coding:ColorPicker">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="coding:ColorPicker">
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto"/>
								<ColumnDefinition Width="*"/>
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal"/>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedHueColor">
												<DiscreteObjectKeyFrame KeyTime="0" Value="0"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SampleSelector">
												<DiscreteObjectKeyFrame KeyTime="0" Value="0"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="SelectedColor">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource DefaultDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
							<Rectangle x:Name="SelectedColor" Grid.ColumnSpan="2" Fill="{TemplateBinding SolidColorBrush}" Height="24" Margin="0,0,0,12" Grid.Row="0" Visibility="Collapsed"/>
							<coding:ColorSlider x:Name="ColorSlider" IsColorVisible="false" Margin="0,0,12,0" Grid.Row="2" Thumb="{TemplateBinding Thumb}" Width="24"/>
							<Grid x:Name="Body" Grid.Column="1" Grid.Row="1">
								<Rectangle x:Name="SelectedHueColor" Fill="Red"/>
								<Rectangle>
									<Rectangle.Fill>
										<LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
											<GradientStop Color="White" Offset="0"/>
											<GradientStop Color="Transparent" Offset="1"/>
										</LinearGradientBrush>
									</Rectangle.Fill>
								</Rectangle>
								<Rectangle>
									<Rectangle.Fill>
										<LinearGradientBrush EndPoint="0, 0" StartPoint="0,1">
											<GradientStop Color="Black" Offset="0"/>
											<GradientStop Color="Transparent" Offset="1"/>
										</LinearGradientBrush>
									</Rectangle.Fill>
								</Rectangle>
								<Grid x:Name="SampleSelector" HorizontalAlignment="Left" VerticalAlignment="Top">
									<Ellipse Height="22" Stroke="Black" StrokeThickness="5" Width="22"/>
									<Ellipse Height="24" Stroke="White" StrokeThickness="3" Width="24"/>
								</Grid>
							</Grid>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style x:Key="CustomSliderStyle" TargetType="Slider">
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="Maximum" Value="10"/>
			<Setter Property="Minimum" Value="0"/>
			<Setter Property="Value" Value="0"/>
			<Setter Property="Background" Value="{StaticResource PhoneChromeBrush}"/>
			<Setter Property="Foreground" Value="{StaticResource PhoneAccentBrush}"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Slider">
						<Grid Background="Transparent">
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal"/>
									<VisualState x:Name="MouseOver"/>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<DoubleAnimation Duration="0" To="0.1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HorizontalTrack"/>
											<DoubleAnimation Duration="0" To="0.1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="VerticalTrack"/>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="HorizontalFill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="VerticalFill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
							<Grid x:Name="HorizontalTemplate" Margin="{StaticResource PhoneHorizontalMargin}">
								<Rectangle x:Name="HorizontalTrack" Fill="{StaticResource PhoneForegroundBrush}" Height="12" IsHitTestVisible="False" Margin="0,22,0,50" Opacity="0.5"/>
								<Rectangle x:Name="HorizontalFill" Fill="{TemplateBinding Foreground}" Height="12" IsHitTestVisible="False" Margin="0,22,0,50">
									<Rectangle.Clip>
										<RectangleGeometry Rect="0, 0, 6, 12"/>
									</Rectangle.Clip>
								</Rectangle>
								<Rectangle x:Name="HorizontalCenterElement" Fill="{StaticResource PhoneForegroundBrush}" HorizontalAlignment="Left" Height="24" Margin="0,16,0,44" Width="12">
									<Rectangle.RenderTransform>
										<TranslateTransform/>
									</Rectangle.RenderTransform>
								</Rectangle>
							</Grid>
							<Grid x:Name="VerticalTemplate" Margin="{StaticResource PhoneVerticalMargin}">
								<Rectangle x:Name="VerticalTrack" IsHitTestVisible="False" Margin="18,0,18,0" Width="12" Fill="{StaticResource PhoneForegroundBrush}" Opacity="0.5"/>
								<Rectangle x:Name="VerticalFill" Fill="{TemplateBinding Foreground}" IsHitTestVisible="False" Margin="18,0,18,0" Width="12">
									<Rectangle.Clip>
										<RectangleGeometry Rect="0, 0, 12, 6"/>
									</Rectangle.Clip>
								</Rectangle>
								<Rectangle x:Name="VerticalCenterElement" Fill="{StaticResource PhoneForegroundBrush}" Height="12" Margin="12,0,12,0" VerticalAlignment="Top" Width="24">
									<Rectangle.RenderTransform>
										<TranslateTransform/>
									</Rectangle.RenderTransform>
								</Rectangle>
							</Grid>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style x:Key="PhoneButtonBase" TargetType="ButtonBase">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderBrush" Value="{StaticResource PhoneForegroundBrush}"/>
			<Setter Property="Foreground" Value="{StaticResource PhoneForegroundBrush}"/>
			<Setter Property="BorderThickness" Value="{StaticResource PhoneBorderThickness}"/>
			<Setter Property="FontFamily" Value="{StaticResource PhoneFontFamilySemiBold}"/>
			<Setter Property="FontSize" Value="{StaticResource PhoneFontSizeMedium}"/>
			<Setter Property="Padding" Value="10,5,10,6"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ButtonBase">
						<Grid Background="Transparent">
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal"/>
									<VisualState x:Name="MouseOver"/>
									<VisualState x:Name="Pressed">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentContainer">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneButtonBasePressedForegroundBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="ButtonBackground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneAccentBrush}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentContainer">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="ButtonBackground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="ButtonBackground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="Transparent"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
							<Border x:Name="ButtonBackground" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="0" Margin="{StaticResource PhoneTouchTargetOverhang}">
								<ContentControl x:Name="ContentContainer" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
							</Border>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		
        <Style x:Key="CustomToggleButtonStyle" BasedOn="{StaticResource PhoneButtonBase}" TargetType="ToggleButton">
			<Setter Property="Padding" Value="2"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ToggleButton">
						<Grid Background="Transparent">
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal"/>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="EnabledBackground">
												<DiscreteObjectKeyFrame KeyTime="0">
													<DiscreteObjectKeyFrame.Value>
														<Visibility>Collapsed</Visibility>
													</DiscreteObjectKeyFrame.Value>
												</DiscreteObjectKeyFrame>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="DisabledBackground">
												<DiscreteObjectKeyFrame KeyTime="0">
													<DiscreteObjectKeyFrame.Value>
														<Visibility>Visible</Visibility>
													</DiscreteObjectKeyFrame.Value>
												</DiscreteObjectKeyFrame>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
								<VisualStateGroup x:Name="CheckStates">
									<VisualState x:Name="Unchecked"/>
									<VisualState x:Name="Checked">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="EnabledBackgroundColor">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneForegroundBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="EnabledContent">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneBackgroundBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="DisabledBackground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="DisabledBackground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneDisabledBrush}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DisabledContent">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PhoneBackgroundBrush}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
                            <Border x:Name="EnabledBackgroundColor" Opacity="0.5" Background="{TemplateBinding Background}" Height="40" Width="40" />
							<Border x:Name="EnabledBackground" Height="40" Width="40">
								<ContentControl x:Name="EnabledContent" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
							</Border>
							<Border x:Name="DisabledBackground" BorderBrush="{StaticResource PhoneDisabledBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="Transparent" IsHitTestVisible="False" Margin="{StaticResource PhoneTouchTargetOverhang}" Visibility="Collapsed">
								<ContentControl x:Name="DisabledContent" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Foreground="{StaticResource PhoneDisabledBrush}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
							</Border>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</phone:PhoneApplicationPage.Resources>
	<phone:PhoneApplicationPage.FontFamily>
		<StaticResource ResourceKey="PhoneFontFamilyNormal"/>
	</phone:PhoneApplicationPage.FontFamily>
	<phone:PhoneApplicationPage.FontSize>
		<StaticResource ResourceKey="PhoneFontSizeNormal"/>
	</phone:PhoneApplicationPage.FontSize>
	<phone:PhoneApplicationPage.Foreground>
		<StaticResource ResourceKey="PhoneForegroundBrush"/>
	</phone:PhoneApplicationPage.Foreground>
<!--LayoutRoot ist das Stammraster, in dem alle anderen Seiteninhalte platziert werden-->
	<Grid x:Name="LayoutRoot" Background="Transparent">
		<Grid.RowDefinitions>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup x:Name="ApplicationViewStates">
                <VisualState x:Name="Portrait">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbar" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbarLandscape" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="LandscapeLeft">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPanel" Storyboard.TargetProperty="Margin">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="0,0,72,0"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditImageContainer" Storyboard.TargetProperty="Width">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="728"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditImageContainer" Storyboard.TargetProperty="Height">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="480"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbar" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbarLandscape" Storyboard.TargetProperty="Visibility">
                            <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="LandscapeRight">
                <Storyboard>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPanel" Storyboard.TargetProperty="Margin">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="72,0,0,0"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditImageContainer" Storyboard.TargetProperty="Width">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="728"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditImageContainer" Storyboard.TargetProperty="Height">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="480"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PenToolbarLandscape" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
                </VisualState>
            </VisualStateGroup>
            <VisualStateGroup x:Name="PenToolbarViewStates">
                <VisualStateGroup.Transitions>
                    <VisualTransition GeneratedDuration="0:0:1">
                        <VisualTransition.GeneratedEasingFunction>
                            <BackEase EasingMode="EaseInOut" Amplitude="0.2"/>
                        </VisualTransition.GeneratedEasingFunction>
                    </VisualTransition>
                </VisualStateGroup.Transitions>
                <VisualState x:Name="Normal">
                    <Storyboard>
                        <DoubleAnimation Duration="0" To="600" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="PenToolbar" d:IsOptimized="True"/>
                        <DoubleAnimation Duration="0" To="600" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PenToolbarLandscape" d:IsOptimized="True"/>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="Displayed">
                    <Storyboard>
                        <DoubleAnimation Duration="0" To="100" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="PenToolbar" d:IsOptimized="True"/>
                        <DoubleAnimation Duration="0" To="100" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="PenToolbarLandscape" d:IsOptimized="True"/>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <!--ContentPanel - zusätzliche Inhalte hier platzieren-->
		<Grid x:Name="ContentPanel" Grid.Row="1" Margin="0,0,0,72">
            
			<Grid x:Name="EditImageContainer" Width="480" Height="728">
				<Grid x:Name="RenderContainer">

                    <Image x:Name="EditImageControl"  VerticalAlignment="Center" HorizontalAlignment="Center" RenderTransformOrigin="0.5,0.5" />

					<InkPresenter x:Name="InkControl" VerticalAlignment="Center" HorizontalAlignment="Center" RenderTransformOrigin="0.5,0.5"
						MouseLeftButtonDown="MyIP_MouseLeftButtonDown" 
						LostMouseCapture="MyIP_LostMouseCapture" 
						MouseMove="MyIP_MouseMove" Background="Transparent">
						<InkPresenter.RenderTransform>
							<ScaleTransform />
						</InkPresenter.RenderTransform>
					</InkPresenter>
				</Grid>
			</Grid>
            
            <!-- ZoomMove buttons -->
            <RepeatButton x:Name="MoveLeft" VerticalAlignment="Center" HorizontalAlignment="Left" Click="MoveLeftClicked" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneForegroundBrush}" Opacity="0.66" Visibility="Collapsed">
                <Path Width="18" Height="24" Margin="2" Stretch="Fill" Fill="{StaticResource PhoneBackgroundBrush}" Data="F1 M 35.8724,37.6042L 39.0391,40.7708L 50.5182,51.8542L 40.2266,51.8542L 25.1849,37.6041L 40.2266,23.3542L 50.5182,23.3542L 39.0391,34.4375L 35.8724,37.6042 Z "/>
            </RepeatButton>
            <RepeatButton x:Name="MoveRight" VerticalAlignment="Center" HorizontalAlignment="Right" Click="MoveRightClicked" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneForegroundBrush}" Opacity="0.66" Visibility="Collapsed">
                <Path Width="18" Height="24" Margin="2" Stretch="Fill" Fill="{StaticResource PhoneBackgroundBrush}" Data="F1 M 39.8307,37.6042L 36.6641,34.4375L 25.1849,23.3542L 35.4766,23.3542L 50.5182,37.6042L 35.4766,51.8542L 25.1849,51.8542L 36.6641,40.7708L 39.8307,37.6042 Z "/>
            </RepeatButton>
            <RepeatButton x:Name="MoveUp" VerticalAlignment="Top" HorizontalAlignment="Center" Click="MoveUpClicked" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneForegroundBrush}" Opacity="0.66" Visibility="Collapsed">
                <Path Width="24" Height="18" Margin="2" Stretch="Fill" Fill="{StaticResource PhoneBackgroundBrush}" Data="F1 M 37.8516,35.625L 34.6849,38.7917L 23.6016,50.2708L 23.6016,39.9792L 37.8516,24.9375L 52.1016,39.9792L 52.1016,50.2708L 41.0182,38.7917L 37.8516,35.625 Z "/>
            </RepeatButton>
            <RepeatButton x:Name="MoveDown" VerticalAlignment="Bottom" HorizontalAlignment="Center" Click="MoveDownClicked" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneForegroundBrush}" Opacity="0.66" Visibility="Collapsed">
                <Path Width="24" Height="18" Margin="2" Stretch="Fill" Fill="{StaticResource PhoneBackgroundBrush}" Data="F1 M 37.8516,39.5833L 52.1016,24.9375L 52.1016,35.2292L 37.8516,50.2708L 23.6016,35.2292L 23.6016,24.9375L 37.8516,39.5833 Z "/>
            </RepeatButton>

            <Grid x:Name="PenToolbar" Height="360" VerticalAlignment="Bottom" Background="{StaticResource PhoneChromeBrush}" RenderTransformOrigin="0.5,0.5"  Visibility="Collapsed">
				<Grid.RenderTransform>
					<CompositeTransform TranslateY="600"/>
				</Grid.RenderTransform>
                <Button VerticalAlignment="Top" HorizontalAlignment="Right" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneChromeBrush}" Tap="ClosedPenToobarTapped">
                    <Grid Margin="0,-44,0,0">
                        <Ellipse Width="67" Height="67" Fill="{StaticResource PhoneChromeBrush}"/>
                        <Path Width="28" Height="22" Margin="2" Stretch="Fill" Opacity="0.5" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 37.8516,39.5833L 52.1016,24.9375L 52.1016,35.2292L 37.8516,50.2708L 23.6016,35.2292L 23.6016,24.9375L 37.8516,39.5833 Z "/>
                    </Grid>
                </Button>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,16,0,0">
                    <StackPanel Margin="12">
                        <coding:ColorPicker x:Name="ColorPicker" Height="198" Width="220"  Margin="10,12,0,12" Style="{StaticResource CustomColorPickerStyle}" />
                    </StackPanel>
                    <StackPanel Margin="-4,20,0,20">
                        <Rectangle x:Name="ColorHistory1" Fill="Red" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle x:Name="ColorHistory2" Fill="Green" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle x:Name="ColorHistory3" Fill="Blue" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle x:Name="ColorHistory4" Fill="Yellow" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle x:Name="ColorHistory5" Fill="Black" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle x:Name="ColorHistory6" Fill="White" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                    </StackPanel>
                    <StackPanel Margin="10,24,6,12">
                        <Path Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 19,19L 25.3333,19L 25.3333,25.3333L 31.6667,25.3333L 31.6667,19L 38,19L 38,25.3333L 44.3333,25.3333L 44.3333,19L 50.6667,19L 50.6667,25.3333L 57,25.3333L 57,31.6667L 50.6667,31.6667L 50.6667,38L 57,38L 57,44.3333L 50.6667,44.3333L 50.6667,50.6667L 57,50.6667L 57,57L 50.6667,57L 50.6667,50.6667L 44.3333,50.6667L 44.3333,57L 38,57L 38,50.6667L 31.6667,50.6667L 31.6667,57L 25.3333,57L 25.3333,50.6667L 19,50.6667L 19,44.3333L 25.3333,44.3333L 25.3333,38L 19,38L 19,31.6667L 25.3333,31.6667L 25.3333,25.3333L 19,25.3333L 19,19 Z M 50.6667,38L 44.3333,38L 44.3333,44.3333L 50.6667,44.3333L 50.6667,38 Z M 50.6667,25.3333L 44.3333,25.3333L 44.3333,31.6667L 50.6667,31.6667L 50.6667,25.3333 Z M 44.3333,44.3333L 38,44.3333L 38,50.6667L 44.3333,50.6667L 44.3333,44.3333 Z M 38,44.3333L 38,38L 31.6667,38L 31.6667,44.3333L 38,44.3333 Z M 31.6667,44.3333L 25.3333,44.3333L 25.3333,50.6667L 31.6667,50.6667L 31.6667,44.3333 Z M 44.3333,31.6667L 38,31.6667L 38,38L 44.3333,38L 44.3333,31.6667 Z M 38,31.6667L 38,25.3333L 31.6667,25.3333L 31.6666,31.6667L 38,31.6667 Z M 31.6666,31.6667L 25.3333,31.6667L 25.3333,38L 31.6667,38L 31.6666,31.6667 Z ">
                            <Path.OpacityMask>
                                <LinearGradientBrush StartPoint="0.853553,0.853553" EndPoint="0.146447,0.146447">
                                    <GradientStop Color="#22FFFFFF" Offset="0"/>
                                    <GradientStop Color="#FFFFFFFF" Offset="1"/>
                                </LinearGradientBrush>
                            </Path.OpacityMask>
                        </Path>
                        <Slider x:Name="OpacitySlider" Foreground="{Binding ElementName=ColorPicker, Path=SolidColorBrush}"
                                Value="0.5" Minimum="0.1" Maximum="1" SmallChange="0.2" LargeChange="0.1" Orientation="Vertical" Height="184" Width="64" VerticalAlignment="Top" Style="{StaticResource CustomSliderStyle}" />
                    </StackPanel>
                    <StackPanel Margin="0,24,6,12">
                        <Path Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 20.5833,55.4167L 49.0833,55.4167L 45.9167,52.25L 25.3333,52.25L 31.6667,49.0833L 25.3333,42.75L 22.1667,49.875C 22.1667,49.875 15.8333,55.4167 20.5833,55.4167 Z M 36.4166,47.5L 26.9166,38L 26.9166,41.1667L 33.25,47.5L 36.4166,47.5 Z M 28.8958,37.6042L 36.8125,45.5209C 38.3958,47.1042 42.75,42.75 42.75,42.75L 31.6666,31.6667C 26.9166,36.4167 28.8958,37.6042 28.8958,37.6042 Z M 44.3333,41.1667L 65.6868,16.8593C 63.2289,13.6452 60.224,10.8717 56.8112,8.67772L 33.25,30.0834L 44.3333,41.1667 Z "/>
                        <Slider x:Name="ThicknessSlider" Foreground="{Binding ElementName=ColorPicker, Path=SolidColorBrush}"
                                Minimum="3" Maximum="45" SmallChange="1" LargeChange="1" Orientation="Vertical" Height="184" Width="64" VerticalAlignment="Top" Style="{StaticResource CustomSliderStyle}" />
                    </StackPanel>
                    <StackPanel Margin="0,24,16,24">
                        <ToggleButton x:Name="NormalPen" Style="{StaticResource CustomToggleButtonStyle}" Tag="Normal" Checked="PenModeToggled" Unchecked="PenModeToggled">
                            <Path Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 58,18C 58,18 33,24 33,33C 33,42 46,41 46,45C 46,49 22,55 18,56L 19,59C 19,59 49,53 49,45C 49,37 36,40 36,33C 36,26 59,21 59,21L 58,18 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton x:Name="ArrowPen" Style="{StaticResource CustomToggleButtonStyle}" Tag="Arrow" Checked="PenModeToggled" Unchecked="PenModeToggled">
                            <Path Width="28" Height="24" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,55L 18,55L 18,50L 21,50L 53,24L 53,21L 58,21L 58,26L 55,26L 23,52L 23,55 Z M 54,22L 54,25L 57,25L 57,22L 54,22 Z M 19,51L 19,54L 22,54L 22,51L 19,51 Z M 38,25 52,25 53,24 53,22 38,22 Z M 55,26 54,27 54,41 57,41 57,26 Z" StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton x:Name="LinePen" Style="{StaticResource CustomToggleButtonStyle}" Tag="Line" Checked="PenModeToggled" Unchecked="PenModeToggled">
                            <Path Width="28" Height="24" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,55L 18,55L 18,50L 21,50L 53,24L 53,21L 58,21L 58,26L 55,26L 23,52L 23,55 Z M 54,22L 54,25L 57,25L 57,22L 54,22 Z M 19,51L 19,54L 22,54L 22,51L 19,51 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton x:Name="CirclePen" Style="{StaticResource CustomToggleButtonStyle}" Tag="Circle" Checked="PenModeToggled" Unchecked="PenModeToggled">
                            <Path Width="28" Height="26" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 38,36C 36.8954,36 36,36.8954 36,38C 36,39.1046 36.8954,40 38,40C 39.1046,40 40,39.1046 40,38C 40,36.8954 39.1046,36 38,36 Z M 38,34C 40.2091,34 42,35.7909 42,38C 42,40.2091 40.2091,42 38,42C 35.7909,42 34,40.2091 34,38C 34,35.7909 35.7909,34 38,34 Z M 57.75,36C 56.6454,36 55.75,36.8954 55.75,38C 55.75,39.1046 56.6454,40 57.75,40C 58.8546,40 59.75,39.1046 59.75,38C 59.75,36.8954 58.8546,36 57.75,36 Z M 61.75,38C 61.75,39.9038 60.4199,41.497 58.6383,41.901C 56.8098,51.635 48.265,59 38,59C 26.402,59 17,49.598 17,38C 17,26.402 26.402,17 38,17C 48.265,17 56.8098,24.365 58.6383,34.099C 60.4199,34.503 61.75,36.0962 61.75,38 Z M 53.75,38C 53.75,36.5505 54.521,35.281 55.6754,34.5794C 54.0776,26.2741 46.7715,20 38,20C 28.0589,20 20,28.0589 20,38C 20,47.9411 28.0589,56 38,56C 46.7715,56 54.0776,49.7259 55.6754,41.4206C 54.521,40.719 53.75,39.4496 53.75,38 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton x:Name="RectanglePen" Style="{StaticResource CustomToggleButtonStyle}" Tag="Rectangle" Checked="PenModeToggled" Unchecked="PenModeToggled">
                            <Path Width="28" Height="23" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,28L 23,29L 22,29L 22,47L 23,47L 23,48L 53,48L 53,47L 54,47L 54,29L 53,29L 53,28L 23,28 Z M 58,47L 58,52L 53,52L 53,51L 23,51L 23,52L 18,52L 18,47L 19,47L 19,29L 18,29L 18,24L 23,24L 23,25L 53,25L 53,24L 58,24L 58,29L 57,29L 57,47L 58,47 Z M 19,25L 19,28L 22,28L 22,25L 19,25 Z M 54,25L 54,28L 57,28L 57,25L 54,25 Z M 19,48L 19,51L 22,51L 22,48L 19,48 Z M 54,48L 54,51L 57,51L 57,48L 54,48 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                    </StackPanel>
                </StackPanel>
                <Grid Margin="12,-32,0,0" VerticalAlignment="Top" HorizontalAlignment="Left">
                    <Ellipse Width="67" Height="67" Fill="{StaticResource PhoneChromeBrush}"/>
                    <Ellipse Width="53" Height="53" Fill="White"/>
                    <Ellipse Height="1" Width="1" Fill="{Binding SolidColorBrush, ElementName=ColorPicker}" Opacity="{Binding Value, ElementName=OpacitySlider}" RenderTransformOrigin="0.5,0.5">
                        <Ellipse.RenderTransform>
                            <ScaleTransform ScaleX="{Binding Value, ElementName=ThicknessSlider}" ScaleY="{Binding Value, ElementName=ThicknessSlider}" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
            </Grid>

            <Grid x:Name="PenToolbarLandscape" Width="360" HorizontalAlignment="Right" Background="{StaticResource PhoneChromeBrush}" RenderTransformOrigin="0.5,0.5" Visibility="Collapsed">
                <Grid.RenderTransform>
                    <CompositeTransform TranslateX="600"/>
                </Grid.RenderTransform>
                <Button VerticalAlignment="Top" HorizontalAlignment="Left" Template="{StaticResource EmptyButtonControlTemplate}" Background="{StaticResource PhoneChromeBrush}" Tap="ClosedPenToobarTapped">
                    <Grid Margin="-44,0,0,0">
                        <Ellipse Width="67" Height="67" Fill="{StaticResource PhoneChromeBrush}"/>
                        <Path Width="22" Height="28" Margin="2" Stretch="Fill" Opacity="0.5" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 39.8307,37.6042L 36.6641,34.4375L 25.1849,23.3542L 35.4766,23.3542L 50.5182,37.6042L 35.4766,51.8542L 25.1849,51.8542L 36.6641,40.7708L 39.8307,37.6042 Z "/>
                    </Grid>
                </Button>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left" Margin="18,0,0,0">
                    <StackPanel Orientation="Horizontal" Margin="22,6,22,6">
                        <ToggleButton Style="{StaticResource CustomToggleButtonStyle}" IsChecked="{Binding ElementName=NormalPen, Path=IsChecked, Mode=TwoWay}">
                            <Path Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 58,18C 58,18 33,24 33,33C 33,42 46,41 46,45C 46,49 22,55 18,56L 19,59C 19,59 49,53 49,45C 49,37 36,40 36,33C 36,26 59,21 59,21L 58,18 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton Style="{StaticResource CustomToggleButtonStyle}" IsChecked="{Binding ElementName=ArrowPen, Path=IsChecked, Mode=TwoWay}">
                            <Path Width="28" Height="24" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,55L 18,55L 18,50L 21,50L 53,24L 53,21L 58,21L 58,26L 55,26L 23,52L 23,55 Z M 54,22L 54,25L 57,25L 57,22L 54,22 Z M 19,51L 19,54L 22,54L 22,51L 19,51 Z M 38,25 52,25 53,24 53,22 38,22 Z M 55,26 54,27 54,41 57,41 57,26 Z" StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton Style="{StaticResource CustomToggleButtonStyle}" IsChecked="{Binding ElementName=LinePen, Path=IsChecked, Mode=TwoWay}">
                            <Path Width="28" Height="24" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,55L 18,55L 18,50L 21,50L 53,24L 53,21L 58,21L 58,26L 55,26L 23,52L 23,55 Z M 54,22L 54,25L 57,25L 57,22L 54,22 Z M 19,51L 19,54L 22,54L 22,51L 19,51 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton Style="{StaticResource CustomToggleButtonStyle}" IsChecked="{Binding ElementName=CirclePen, Path=IsChecked, Mode=TwoWay}">
                            <Path Width="28" Height="26" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 38,36C 36.8954,36 36,36.8954 36,38C 36,39.1046 36.8954,40 38,40C 39.1046,40 40,39.1046 40,38C 40,36.8954 39.1046,36 38,36 Z M 38,34C 40.2091,34 42,35.7909 42,38C 42,40.2091 40.2091,42 38,42C 35.7909,42 34,40.2091 34,38C 34,35.7909 35.7909,34 38,34 Z M 57.75,36C 56.6454,36 55.75,36.8954 55.75,38C 55.75,39.1046 56.6454,40 57.75,40C 58.8546,40 59.75,39.1046 59.75,38C 59.75,36.8954 58.8546,36 57.75,36 Z M 61.75,38C 61.75,39.9038 60.4199,41.497 58.6383,41.901C 56.8098,51.635 48.265,59 38,59C 26.402,59 17,49.598 17,38C 17,26.402 26.402,17 38,17C 48.265,17 56.8098,24.365 58.6383,34.099C 60.4199,34.503 61.75,36.0962 61.75,38 Z M 53.75,38C 53.75,36.5505 54.521,35.281 55.6754,34.5794C 54.0776,26.2741 46.7715,20 38,20C 28.0589,20 20,28.0589 20,38C 20,47.9411 28.0589,56 38,56C 46.7715,56 54.0776,49.7259 55.6754,41.4206C 54.521,40.719 53.75,39.4496 53.75,38 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                        <ToggleButton Style="{StaticResource CustomToggleButtonStyle}" IsChecked="{Binding ElementName=RectanglePen, Path=IsChecked, Mode=TwoWay}">
                            <Path Width="28" Height="23" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 23,28L 23,29L 22,29L 22,47L 23,47L 23,48L 53,48L 53,47L 54,47L 54,29L 53,29L 53,28L 23,28 Z M 58,47L 58,52L 53,52L 53,51L 23,51L 23,52L 18,52L 18,47L 19,47L 19,29L 18,29L 18,24L 23,24L 23,25L 53,25L 53,24L 58,24L 58,29L 57,29L 57,47L 58,47 Z M 19,25L 19,28L 22,28L 22,25L 19,25 Z M 54,25L 54,28L 57,28L 57,25L 54,25 Z M 19,48L 19,51L 22,51L 22,48L 19,48 Z M 54,48L 54,51L 57,51L 57,48L 54,48 Z " StrokeThickness="0.5" Stroke="{StaticResource PhoneForegroundBrush}"/>
                        </ToggleButton>
                    </StackPanel>
                    <StackPanel Margin="6" Orientation="Horizontal" HorizontalAlignment="Center">
                        <Path Margin="12,0,0,0" Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 20.5833,55.4167L 49.0833,55.4167L 45.9167,52.25L 25.3333,52.25L 31.6667,49.0833L 25.3333,42.75L 22.1667,49.875C 22.1667,49.875 15.8333,55.4167 20.5833,55.4167 Z M 36.4166,47.5L 26.9166,38L 26.9166,41.1667L 33.25,47.5L 36.4166,47.5 Z M 28.8958,37.6042L 36.8125,45.5209C 38.3958,47.1042 42.75,42.75 42.75,42.75L 31.6666,31.6667C 26.9166,36.4167 28.8958,37.6042 28.8958,37.6042 Z M 44.3333,41.1667L 65.6868,16.8593C 63.2289,13.6452 60.224,10.8717 56.8112,8.67772L 33.25,30.0834L 44.3333,41.1667 Z "/>
                        <Slider x:Name="ThicknessSliderLandscape" Foreground="{Binding ElementName=ColorPickerLandscape, Path=SolidColorBrush}" Margin="-4,0,0,-28"
                                Value="{Binding ElementName=ThicknessSlider, Path=Value, Mode=TwoWay}" Minimum="3" Maximum="45" SmallChange="1" LargeChange="1" Width="184" VerticalAlignment="Center" Style="{StaticResource CustomSliderStyle}" />
                    </StackPanel>
                    <StackPanel Margin="6,6,6,12" Orientation="Horizontal" HorizontalAlignment="Center">
                        <Path Margin="12,0,0,0" Width="28" Height="28" Stretch="Fill" Fill="{StaticResource PhoneForegroundBrush}" Data="F1 M 19,19L 25.3333,19L 25.3333,25.3333L 31.6667,25.3333L 31.6667,19L 38,19L 38,25.3333L 44.3333,25.3333L 44.3333,19L 50.6667,19L 50.6667,25.3333L 57,25.3333L 57,31.6667L 50.6667,31.6667L 50.6667,38L 57,38L 57,44.3333L 50.6667,44.3333L 50.6667,50.6667L 57,50.6667L 57,57L 50.6667,57L 50.6667,50.6667L 44.3333,50.6667L 44.3333,57L 38,57L 38,50.6667L 31.6667,50.6667L 31.6667,57L 25.3333,57L 25.3333,50.6667L 19,50.6667L 19,44.3333L 25.3333,44.3333L 25.3333,38L 19,38L 19,31.6667L 25.3333,31.6667L 25.3333,25.3333L 19,25.3333L 19,19 Z M 50.6667,38L 44.3333,38L 44.3333,44.3333L 50.6667,44.3333L 50.6667,38 Z M 50.6667,25.3333L 44.3333,25.3333L 44.3333,31.6667L 50.6667,31.6667L 50.6667,25.3333 Z M 44.3333,44.3333L 38,44.3333L 38,50.6667L 44.3333,50.6667L 44.3333,44.3333 Z M 38,44.3333L 38,38L 31.6667,38L 31.6667,44.3333L 38,44.3333 Z M 31.6667,44.3333L 25.3333,44.3333L 25.3333,50.6667L 31.6667,50.6667L 31.6667,44.3333 Z M 44.3333,31.6667L 38,31.6667L 38,38L 44.3333,38L 44.3333,31.6667 Z M 38,31.6667L 38,25.3333L 31.6667,25.3333L 31.6666,31.6667L 38,31.6667 Z M 31.6666,31.6667L 25.3333,31.6667L 25.3333,38L 31.6667,38L 31.6666,31.6667 Z ">
                            <Path.OpacityMask>
                                <LinearGradientBrush StartPoint="0.853553,0.853553" EndPoint="0.146447,0.146447">
                                    <GradientStop Color="#22FFFFFF" Offset="0"/>
                                    <GradientStop Color="#FFFFFFFF" Offset="1"/>
                                </LinearGradientBrush>
                            </Path.OpacityMask>
                        </Path>
                        <Slider x:Name="OpacitySliderLandscape" Foreground="{Binding ElementName=ColorPickerLandscape, Path=SolidColorBrush}" Margin="-4,0,0,-28"
                                Value="{Binding ElementName=OpacitySlider, Path=Value, Mode=TwoWay}" Minimum="0.2" Maximum="1" SmallChange="0.1" LargeChange="0.1" Width="184" VerticalAlignment="Center" Style="{StaticResource CustomSliderStyle}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal"  Margin="20,0,20,-4">
                        <Rectangle Fill="{Binding ElementName=ColorHistory1, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle Fill="{Binding ElementName=ColorHistory2, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle Fill="{Binding ElementName=ColorHistory3, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle Fill="{Binding ElementName=ColorHistory4, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle Fill="{Binding ElementName=ColorHistory5, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                        <Rectangle Fill="{Binding ElementName=ColorHistory6, Path=Fill}" Width="26" Height="26" Margin="4" Tap="HistoryColorSelected" />
                    </StackPanel>
                    <StackPanel Margin="12">
                        <coding:ColorPicker x:Name="ColorPickerLandscape" Color="{Binding ElementName=ColorPicker, Path=Color, Mode=TwoWay}"
                                            Height="198" Width="220"  Margin="0,12,0,12" Style="{StaticResource CustomColorPickerStyle}" RenderTransformOrigin="0.5,0.5">
                            <coding:ColorPicker.RenderTransform>
                                <RotateTransform Angle="-90" />
                            </coding:ColorPicker.RenderTransform>
                        </coding:ColorPicker>
                    </StackPanel>
                </StackPanel>
                <Grid Margin="-32,0,0,12" HorizontalAlignment="Left" VerticalAlignment="Bottom">
                    <Ellipse Width="67" Height="67" Fill="{StaticResource PhoneChromeBrush}"/>
                    <Ellipse Width="53" Height="53" Fill="White"/>
                    <Ellipse Height="1" Width="1" Fill="{Binding SolidColorBrush, ElementName=ColorPickerLandscape}" Opacity="{Binding Value, ElementName=OpacitySliderLandscape}" RenderTransformOrigin="0.5,0.5">
                        <Ellipse.RenderTransform>
                            <ScaleTransform ScaleX="{Binding Value, ElementName=ThicknessSliderLandscape}" ScaleY="{Binding Value, ElementName=ThicknessSliderLandscape}" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
            </Grid>

        </Grid>
        
        <Grid x:Name="SavingPopup" Visibility="Collapsed">
            <Rectangle Fill="{StaticResource PhoneBackgroundBrush}" Opacity="0.5" />
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <ProgressBar IsIndeterminate="True" Width="200" Margin="6"/>
                <TextBlock Text="{Binding LocalizedResources.SavingPicuture, Source={StaticResource LocalizedStrings}}" TextAlignment="Center" />
            </StackPanel>
            
        </Grid>
	</Grid>

</phone:PhoneApplicationPage>